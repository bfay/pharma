function setColorPicker(a,b){jQuery("#fpBody #"+a+"_picker").children("div").css("backgroundColor",b),jQuery("#fpBody #"+a+"_picker").ColorPicker({color:b,onShow:function(a){return jQuery(a).fadeIn(500),!1},onHide:function(a){return jQuery(a).fadeOut(500),!1},onChange:function(b,c,d){jQuery("#fpBody #"+a+"_picker").children("div").css("backgroundColor","#"+c),jQuery("#fpBody #"+a+"_picker").next("input").attr("value","#"+c)},onSubmit:function(b,c,d){fpSubmitForm(),updateform(jQuery("#fpBody #"+a+"_picker").next("input"))}})}function setUpload(a,b){var c="#fpBody #"+a,d="#fpBody #"+a+"_upload",e="#fpBody #"+a+"_preview",f=new Date,g=f.getTime();jQuery(d).uploadify({uploader:b+"images/uploadify/uploadify.swf",script:b+"plugins/uploadify.php",cancelImg:b+"images/uploadify/cancel.png",buttonImg:b+"images/uploadify/button.jpg",folder:userSettings.url+"wp-content/uploads/",auto:!0,height:22,width:82,scriptData:{addonfile:g},onError:function(a,b,c,d){console.log(d.type+"    "+d.info)},onComplete:function(a,b,d){var f=userSettings.url+"wp-content/uploads/"+g+"-"+d.name;jQuery(c).val(f),jQuery(e).html('<img src="'+f+'"/>'),fpSubmitForm()}})}function getParameters(a){return decodeURIComponent(((new RegExp("[?|&]"+a+"="+"([^&;]+?)(&|#|;|$)")).exec(location.search)||[,""])[1].replace(/\+/g,"%20"))||null}function fpSubmitForm(){jQuery("#fpForm").submit()}function fpSubmitTemplateSetup(a,b){jQuery(".fpSaving").center("#fpForm");var c={action:"framework_save_template",order:a,template:b,field:"sections"};jQuery.ajax({type:"GET",url:ajaxurl,data:c,beforeSend:function(){jQuery(".fpSaving").find(".message").text("Saving ..."),jQuery(".fpSaving").find(".image").removeClass("image-saved").removeClass("image-error").addClass("image-saving"),jQuery(".fpSaving").fadeIn("fast")},success:function(a){jQuery(".fpSaving").find(".message").text("Saved!"),jQuery(".fpSaving").find(".image").removeClass("image-saving").removeClass("image-error").addClass("image-saved"),jQuery(".fpSaving").show().delay(800).fadeOut("slow")},error:function(a){jQuery(".fpSaving").find(".message").text("Error!"),jQuery(".fpSaving").find(".image").removeClass("image-saved").removeClass("image-saving").addClass("image-error"),jQuery(".fpSaving").show().delay(800).fadeOut("slow")}})}jQuery.fn.center=function(a){return this.css("position","absolute"),this.css("top",(jQuery(window).height()-this.height())/4+jQuery(window).scrollTop()+"px"),this.css("left",(jQuery(a).width()-this.width())/2+jQuery(a).scrollLeft()+"px"),this},jQuery(function(){jQuery(".fade").delay("3000").slideToggle("slow")}),jQuery(function(){jQuery("#fpRestore").click(function(){var a=confirm("Are you sure you want to restore default settings?");return a})}),jQuery(function(){jQuery("#fpBody #fpContent").tabs({fx:{opacity:"toggle",duration:"fast"},selected:0});var a=getParameters("tab");a&&jQuery("#fpBody #fpContent").tabs("select","#_"+a)}),jQuery(function(){jQuery("#fpBody .togglethis").change(function(){jQuery(this).parent().parent().parent().find(".toggle_show").slideUp("slow"),jQuery(this).parent().parent().find("."+jQuery(this).val()).slideDown("slow").addClass("toggle_show")})}),jQuery(function(){jQuery("#fpBody .option-font select").change(function(){var a=jQuery(this).attr("title"),b=jQuery(this).val(),c=jQuery(this).find("option:selected").attr("title");if(a=="font-family"){var d="http://fonts.googleapis.com/css?family="+c;jQuery(this).parent().find("link").attr("href",d),jQuery(this).parent().find(".font-preview").css(a,b)}else jQuery(this).parent().parent().parent().parent().parent().parent().find(".font-preview").css(a,b)}),jQuery("#fpBody .option-font .editfont").click(function(){jQuery(this).parent().find(".option-font-style").slideToggle("slow")})}),jQuery(function(){jQuery("#fpBody .option-layout input").change(function(){jQuery(this).parent().parent().find("label").removeClass("active"),jQuery(this).is(":checked")&&jQuery(this).parent().find("label").addClass("active")})}),jQuery(function(){jQuery("#fpForm").submit(function(){return jQuery(this).find(".feedback_name").val()!=""&&jQuery(this).find(".feedback_email").val()!=""&&jQuery(this).find(".feedback_text").val()!=""?!0:(serialized=jQuery(this).serialize(),jQuery(".fpSaving").center("#fpForm"),jQuery.ajax({type:"POST",url:"options.php",data:serialized,beforeSend:function(){jQuery(".fpSaving").find(".message").text("Saving ..."),jQuery(".fpSaving").find(".image").removeClass("image-saved").removeClass("image-error").addClass("image-saving"),jQuery(".fpSaving").fadeIn("fast")},success:function(a){jQuery(".fpSaving").find(".message").text("Saved!"),jQuery(".fpSaving").find(".image").removeClass("image-saving").removeClass("image-error").addClass("image-saved"),jQuery(".fpSaving").show().delay(800).fadeOut("slow")},error:function(a){jQuery(".fpSaving").find(".message").text("Error!"),jQuery(".fpSaving").find(".image").removeClass("image-saved").removeClass("image-saving").addClass("image-error"),jQuery(".fpSaving").show().delay(800).fadeOut("slow")}}),!1)})}),jQuery(function(){jQuery(".sections-list-active").sortable({connectWith:".connectedSortable",placeholder:"placeholder",cancel:".section-required",update:function(){var a=jQuery(this).sortable("serialize"),b=jQuery(this).parent().parent().find(".section-name").attr("title");fpSubmitTemplateSetup(a,b)}}).disableSelection(),jQuery(".sections-list-available").sortable({connectWith:".connectedSortable",placeholder:"placeholder"}).disableSelection()}),jQuery(function(){jQuery("#fpBody input").change(function(){jQuery(this).hasClass("noautosave")||fpSubmitForm()}),jQuery("#fpBody textarea").change(function(){jQuery(this).hasClass("noautosave")||fpSubmitForm()}),jQuery("#fpBody select").change(function(){jQuery(this).hasClass("noautosave")||fpSubmitForm()})}),jQuery(function(){var a=jQuery(".design-control #color_scheme"),b=a.val();b!="custom"&&jQuery(".design-control .fpOption").not(":eq(0)").hide(),jQuery(a).change(function(){jQuery(".design-control #color_scheme").val()=="custom"?jQuery(".design-control .fpOption").show():jQuery(".design-control .fpOption").not(":eq(0)").hide()})})